!function(e,t,n){"use strict";function i(e){e.keystrokeEncryption?yt.webToken.SecKeyVendor=e.keystrokeEncryption:yt.webToken.SecKeyVendor="null",r(e.servicePort),o(K[e.language]),R.vestCert=e.vestCert}function r(e){e&&(yt.webToken.servicePort=e)}function o(e){e&&(yt.webToken.language=e)}function u(e){if(null==e||m(e))return!1;var t=e.length;return l(e)||N(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function c(e,t,n){var i,r;if(e)if(g(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(N(e)||u(e)){var o="object"!=typeof e;for(i=0,r=e.length;r>i;i++)(o||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==c)e.forEach(t,n,e);else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);return e}function a(){}function s(e){return"undefined"==typeof e}function f(e){return"undefined"!=typeof e}function d(e){return null!==e&&"object"==typeof e}function l(e){return"string"==typeof e}function y(e){return"number"==typeof e}function v(e){return"[object Date]"===toString.call(e)}function g(e){return"function"==typeof e}function p(e){return"[object RegExp]"===toString.call(e)}function m(e){return e&&e.window===e}function b(e){return"[object File]"===toString.call(e)}function C(e){return"[object Blob]"===toString.call(e)}function T(e){return"boolean"==typeof e}function k(e,t){var i=t;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:m(t)?i="$WINDOW":t&&document===t&&(i="$DOCUMENT"),i}function w(e,t){return s(e)?n:JSON.stringify(e,k,t?"  ":null)}function S(e){return l(e)?JSON.parse(e):e}function h(){return!0}function I(e){for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];if(i)for(var r=Object.keys(i),o=0,u=r.length;u>o;o++){var c=r[o];e[c]=i[c]}}}function E(e){return t.util.decode64(e)}function A(e,n){return new t.error(e,"get error code:"+e+" reason:"+n)}var x=e.vest||(e.vest={}),D={},R={},K={0:"kor",1:"eng",2:"jpn"},N=Array.isArray,O=function(e){return l(e)?e.trim():e},P={isMSIE:function(){return document.documentMode===n?-1!==e.navigator.userAgent.toLowerCase().indexOf("msie 7.0")?7:!1:document.documentMode||!1},isCompatiblilityMode:function(){return this.isMSIE()&&-1!==e.navigator.userAgent.toLowerCase().indexOf("trident")},isChrome:function(){return-1!==e.navigator.userAgent.toLowerCase().indexOf("chrome")},isFirefox:function(){return-1!==e.navigator.userAgent.toLowerCase().indexOf("firefox")},isSafari:function(){return-1!==e.navigator.userAgent.toLowerCase().indexOf("safari")},isOpera:function(){return-1!==e.navigator.userAgent.toLowerCase().indexOf("opr")},isSwing:function(){return-1!==e.navigator.userAgent.toLowerCase().indexOf("swing")},getBrowser:function(){var e="IE";return x.browser.isChrome()?e="CHROME":x.browser.isSafari()?e="SAFARI":x.browser.isFirefox()?e="FIREFOX":x.browser.isOpera()?e="OPERA":x.browser.isSwing()&&(e="SWING"),e}},B={isWindows:function(){return"win32"===e.navigator.platform.toLowerCase()||"win64"===e.navigator.platform.toLowerCase()},isMac:function(){return"macintel"===e.navigator.platform.toLowerCase()},isLinux32:function(){},isLinux64:function(){return"Linux x86_64"===e.navigator.platform.toLowerCase()}},L={encodeCharset:function(e,n){if(!l(e)||!l(n))return e;switch(n.toLowerCase()){case"euc-kr":return t.util.encodeEUCKR(e);case"utf-8":return t.util.encodeUTF8(e);default:return e}},decodeCharset:function(e,n){if(!l(e)||!l(n))return e;switch(n.toLowerCase()){case"euc-kr":return t.util.euckrToUTF8(e);case"utf-8":return t.util.decodeUTF8(e);default:return e}},pemToBase64:function(e){return l(e)?e.replace("-----BEGIN CERTIFICATE-----","").replace("-----END CERTIFICATE-----","").replace(/\n/gi,""):e},encodeBytes:function(e,i){if(e!==n&&""!=e)switch(i.toLowerCase()){case"hex":return t.util.bytesToHex(e);case"base64":return t.util.encode64(e);default:return t.util.bytesToHex(e)}},hexDecimal:function(e,t){return l(e)&&l(t)?void 0:e}},Y=function(e){function i(e){return d(e)&&e instanceof t.pki.Certificate||e.hasOwnProperty("certIdentifier")}function r(e){if(!i(e))throw"Not a Certificate"}function o(e){return e.isAfter(moment())}function u(e){var t=e.diff(moment(),"day");return 0==t&&Number(e.format("YYYYMMDDHHmmss"))-Number(moment().format("YYYYMMDDHHmmss"))<0?-1:t}function a(e,t){try{return e.decrypt(t)}catch(n){throw"Invalid password"}}function s(e,t){try{return e.encrypt(t)}catch(n){throw"encryption failed"}}function f(e){try{var n=t.asn1.fromString(e);return t.pkcs8.createEncryptedPrivateKeyInfoFromAsn1(n)}catch(i){throw"not a encrypted private key info"}}var l={AUTHORITY_KEY_IDENTIFIER:"2.5.29.35",SUBJECT_KEY_IDENTIFIER:"2.5.29.14",KEY_USAGE:"2.5.29.15",CERTIFICATE_POLICIES:"2.5.29.32",SUBJECT_ALTERNATIVE_NAME:"2.5.29.17",CRL_DISTRIBUTION_POINTS:"2.5.29.31",AUTHORITY_INFO_ACCESS:"1.3.6.1.5.5.7.1.1",EXTKEYUSAGE:"2.5.29.37",BASICCONSTRAINTS:"2.5.29.19"},y=function(e,i){var a,s,f,d,y,g,p,m,b,C,T,k,w,S,h,I,E,A,x,D,R,K,N,O,P=e._cert,B=this;r(e),a=P.version,s=e.serialNumber,f=yt.oids[P.signatureOid],d=t.util.bytesToHex(P.signature),y=e.issuer,g={to:moment(e.validity.notAfter),from:moment(e.validity.notBefore)},p=e.subject,-1!==f.toUpperCase().indexOf("RSA")&&(m="object"==typeof P.publicKey.n?"RSA "+P.publicKey.n.bitLength():"object"==typeof P.publicKey.y?"KCDSA "+P.publicKey.y.bitLength():""),b=t.util.bytesToHex(yt._asn1.toDer(ytcrypto.pki.publicKeyToAsn1(P.publicKey)).getBytes()),C=t.util.bytesToHex(yt._asn1.toDer(ytcrypto.pki.publicKeyToAsn1(P.publicKey).value[1].value[0]).data),c(P.extensions,function(e){switch(e.id){case l.AUTHORITY_KEY_IDENTIFIER:T=t.util.bytesToHex(e.value),D=t.util.bytesToHex(t.asn1.fromBytes(e.value)._asn.value[0].value);break;case l.CRL_DISTRIBUTION_POINTS:h=e.value.substr(e.value.indexOf("ldap://"));break;case l.AUTHORITY_INFO_ACCESS:A=yt._asn1.fromDer(e.value).value[0].value[1].value;break;case l.SUBJECT_KEY_IDENTIFIER:x=e.subjectKeyIdentifier;break;case l.EXTKEYUSAGE:for(var n in e)"1.2.410.200004.10.1.2"==n&&(K="id_kisa_HSM");case l.BASICCONSTRAINTS:var i="none",r="none";e.cA&&(i="CA"),""!=e.pathLenConstraint&&"undefined"!=typeof e.pathLenConstraint&&(r=e.pathLenConstraint),R="subject Type="+i+", path Length Contraint="+r}}),w=[],c(e.extensions.keyUsage,function(e,t){"name"!==t&&"value"!==t&&e&&w.push(t)}),k=e.extensions.certificatePolicies!=n&&e.extensions.certificatePolicies.policies!=n?Object.keys(e.extensions.certificatePolicies.policies)[0]:null,S=e.extensions.subjectAltName!=n?t.util.bytesToHex(e.extensions.subjectAltName.value):null,N=e.extensions.subjectAltName!=n?e.extensions.subjectAltName.realName:null,k&&(I=e.extensions.certificatePolicies.policies[k].userNotice,E=e.extensions.certificatePolicies.policies[k].CPSuri),O=i,B.getVersion=function(){return a+1+""},B.getSerialNumber=function(){return s},B.getSignatureAlgorithm=function(){return f},B.getSignatureValue=function(){return d},B.getIssuer=function(){return y},B.getValidityTo=function(e){return g.to.format(e)},B.getValidityFrom=function(e){return g.from.format(e)},B.getSubject=function(){return p},B.getPublickeyAlgorithm=function(){return m},B.getPublickey=function(){return b},B.getPubkey=function(){return C},B.getAuthorityKeyIdentifier=function(){return T},B.getPolicy=function(){return k},B.getKeyUsage=function(){return w},B.getSubjectAlternativeName=function(){return S},B.getCrlDistributionPoint=function(){return h},B.getUserNotice=function(){return I},B.getCps=function(){return E},B.getAuthorityInfoAccess=function(){return A},B.isValid=function(){return o(g.to)},B.getAvailableDays=function(){return u(g.to)},B.toHex=function(){return e.toAsn1().toHex()},B.getSubjectKeyIdentifier=function(){return x},B.getIssuerKeyIdentifier=function(){return D},B.getBasicConstranints=function(){return R},B.getExtKeyUsage=function(){return K},B.getRealName=function(){return N},B.getSaveCert=function(){return O},B.toShortCert=function(){return new v(e)}};y.fromHex=function(e){return new y(t.pki.Certificate.fromString(e))};var v=function(e){var n,i,c,a,s,f,d="YYYY-MM-DD HH:mm:ss",l=this;r(e),e instanceof t.pki.Certificate?(n=e.subject,i=e.issuer,c=Object.keys(e.extensions.certificatePolicies.policies)[0],a=e.serialNumber,f=e.subject,s={to:moment(e.validity.notAfter),from:moment(e.validity.notBefore)}):(n=e.subject.split(", ").join(","),i=e.issuer.split(", ").join(","),c=e.policy.id.split(",")[0],a=e.serial.toLowerCase(),f={cert:e.certIdentifier,key:e.keyIdentifier,kmCert:e.kmCertIdentifier,kmKey:e.kmKeyIdentifier},s={to:moment(e.validTo,d),from:moment(e.validFrom,d)}),l.getSubject=function(){return n},l.getIssuer=function(){return i},l.getPolicy=function(){return c},l.getSerial=function(){return a},l.getIdentifier=function(){return f},l.getValidityTo=function(e){return s.to.format(e)},l.getValidityFrom=function(e){return s.from.format(e)},l.isValid=function(){return o(s.to)},l.getAvailableDays=function(){return u(s.to)}},g=function(i,o,u,c){function f(e,n,i){var r=t.cms.createSignedData(),o={key:n.privateKey,certificate:v},u="";return o.useSubjectAndSerialNumber=i,r.setContent(e),r.sign(o,function(e){if(e instanceof t.error)throw e;u=r.toAsn1(i).toBytes()}),u}function d(t,n){var i="undefined"==typeof n.signprotocol?"":n.signprotocol;switch(i){case 1:t.extentions={dn:v.subject,certificate:e.encodeBytes(v.toAsn1().toBytes(),n.encoding),r:""}}return t}function l(e,n){return t.util.hexToBytes(e.envelopeVid(n.idn,n.recipientCertificate))}var v,g,p,m,b=!1,C=this;r(i),v=i,g=o,u&&c&&(r(u),b=!0,p=u,m=c),C.getCertificate=function(){return new y(v)},C.toString=function(){var e={signCert:v.toAsn1().toHex(),signPri:g.toAsn1().toHex()};return b&&(e.kmCert=p.toAsn1().toHex(),e.kmPri=m.toAsn1().toHex()),w(e)},C.toPFX=function(e,n){var i={};return n&&(i.algorithm=n),t.pkcs12.PFX.generateToAsn1(a(g,e),v,e,i).toBytes()},C.changePassword=function(e,t){g=s(a(g,e),t)},C.makeSignature=function(t,i,r,o,u){var c,s=a(g,i),y=!1;r="undefined"==typeof r?{}:r,t=e.encodeCharset(t,r.charset),y="undefined"!=typeof r.signtype&&1==r.signtype,c=f(t,s,y);var v={signature:e.encodeBytes(c,r.encoding),vidMessage:r.vid===n?"":e.encodeBytes(l(s,r.vid),r.encoding)};o(d(v,r))},C.makeSignaturePKCS1=function(n,i,r,o,u){var c=a(g,i),s={};r="undefined"==typeof r?{}:r,n=e.encodeCharset(n,r.charset),s.name="RSASSA-PKCS1-v1_5",s.hash={name:"SHA-256",parameter:t.util.hexToBytes("0F321F3245363739")},c.privateKey.sign(s,n,function(t){var n={signature:e.encodeBytes(t,r.encoding)};o(d(n,r))})}};g.fromString=function(e){var n=S(e);return n.kmCert&&n.kmPri?new g(t.pki.Certificate.fromString(n.signCert),f(n.signPri),t.pki.Certificate.fromString(n.kmCert),f(n.kmPri)):new g(t.pki.Certificate.fromString(n.signCert),f(n.signPri))},g.fromPFX=function(e,n){var i,r,o;return o=ytcrypto.util.bytesToHex(e),i=t.pkcs12.PFX.fromString(o,n),r=i.contents.keys[0],new g(i.contents[r].cert,s(i.contents[r].key,n))};var p=function(n,i){n=e.encodeCharset(n,i.charset);var r;return r=new t.pki.PersonInfoReq(n),i.realName&&r.request("realName"),i.birthDate&&r.request("birthDate"),i.gender&&r.request("gender"),i.nationalInfo&&r.request("nationalInfo"),r=r.toAsn1(),r=r.toBytes()};return{Certificate:y,ShortCert:v,CertificateSet:g,generateUCPID:p}}(L),H=function(e,t,i,r){function o(e,t){g(t)?t(e):u(e)}function u(e){alert(e.getReason())}function s(e,t){var n=[];return N(t)&&t.forEach(function(t){(e===y.SYSTEM&&"DISK DRIVE"===t.type&&t.systemDrive||e===y.TOKEN&&("HARDWARE TOKEN"===t.type||"PKCS#11 TOKEN"===t.type)||e===y.LOCALDISK&&t.type===e&&!t.systemDrive||e===y.UBIKEY&&"Ubikey"===t.type||e===y.SAVETOKEN&&"SmartCard TOKEN"===t.type||e===y.ALL)&&n.push(t)}),n}function f(t){return t instanceof e.error}function d(t,n,i){e.webToken.getTokenList(function(e){return f(e)?void o(e,i):void n(s(t,e))})}function l(e,t){for(var i="",r="",o="",u=e.split(","),c=0;c<u.length;c++)i="",r="",i=u[c].split("="),r="upper"==t?i[0].toUpperCase().replace(/\s/gi,""):"lower"==t?i[0].toLowerCase().replace(/\s/gi,""):i[0].replace(/\s/gi,""),i[1]==n||(r+="="+i[1].trim()),o+=r+",";return o.substr(0,o.length-1)}var y={ALL:"ALL",TOKEN:"TOKEN",SYSTEM:"SYSTEM DRIVE",LOCALDISK:"DISK DRIVE",UBIKEY:"UBIKEY",SAVETOKEN:"SmartCard TOKEN"};return{TYPE:y,ERROR:e.webToken.error,getVersion:function(t,i){e.webToken.getVersion(n,function(e){return f(e)?void o(e,i):void(t||a)(e)})},getTokenList:function(e,t,n){d(e,t,n)},getCertificates:function(t,r,u,s,d,l){var y={};r!==n&&0!=r&&(y.mode=r),u!==n&&0!=u&&(y.OID=u),e.webToken.getCertificateList(t,y,s,function(e){if(f(e))return void o(e,l);var t=[];c(e,function(e){t.push(new i.ShortCert(e))}),(d||a)(t)})},getCertificate:function(t,n,r,u){e.webToken.getCertificate(t,n,function(e){return f(e)?void o(e,u):void(r||a)(new i.Certificate(e.cert,e.path))})},getCACertificate:function(t,n,r,u,c){e.webToken.getCACertificate(t,n,function(t){if(f(t))return void o(t,c);var n="";"ca"==r?n=t.caCertificate:"root"==r&&(n=t.rootCertificate),yt.pki.Certificate.fromBytes(e.util.decode64(n),function(e){(u||a)(new i.Certificate(e))})})},makeSignature:function(i,r,u,c,s,d,l){if(s=s?s:{},s.bytes||(c=t.encodeCharset(c,s.charset)),s.vid&&s.vid.recipientCertificate&&(s.vid.recipientCertificate=t.pemToBase64(s.vid.recipientCertificate)),s.customStr){var y,v;y=ytcrypto.md.sha256.create(),y.update(s.customStr),v=y.digest(),s.customSID=t.encodeBytes(v.data,"base64")}e.webToken.generateSignature(i,r,u.cert,u.key,c,s,function(i){return f(i)?void o(i,function(e){l(e,d)}):void(d||a)({signature:t.encodeBytes(i.signature,s.encoding),vidMessage:i.encryptedVIDRandom===n?"":t.encodeBytes(i.encryptedVIDRandom,s.encoding),extentions:{dn:e.util.decodeUTF8(i.dn),certificate:t.encodeBytes(i.certificate,s.encoding),r:t.encodeBytes(i.r,s.encoding)}})})},verifyData:function(r,u,c,s,d,y){e.webToken.verifySignature(r,c,s,function(c){if(f(c))return void o(c,y);if(1==u){var v=e.cms.createSignedData(),g=e.asn1.fromBytes(e.util.decode64(r)),p=function(e){if(f(e))return void o(e,y);e="";var n=new i.Certificate(v.certificates[0]);e+="$dn=",e+=l(n.getSubject(),"lower"),e+="$data=",e+=t.decodeCharset(v.content,s.charset),e+="$serial=",e+=n.getSerialNumber().length>8?n.getSerialNumber():parseInt(n.getSerialNumber(),16),e+="$from=",e+=n.getValidityFrom("YYYY-MM-DD HH:mm:ss"),e+="$to=",e+=n.getValidityTo("YYYY-MM-DD HH:mm:ss"),"id_kisa_HSM"==n.getExtKeyUsage()&&(e+="$hsm=ok"),e+="$certificate=",e+=t.encodeBytes(yt.util.hexToBytes(n.toHex()),s.encoding),e+="$pubkey=",e+=t.encodeBytes(yt.util.hexToBytes(n.getPubkey()),s.encoding),(d||a)(e)};return void v.fromAsn1(g,p,n)}(d||a)(t.decodeCharset(e.util.decode64(c.verifyResult),s.charset))})},validateCertificate:function(t,i,r,u,c){""!=r&&r!=n||(r=2),e.webToken.ValidateCertificate(t,i.cert,r,function(e){return f(e)?void o(e,c):void(u||a)(e)})},setTokenOptions:function(t,n,i,r){e.webToken.setTokenOptions(t,n,function(e){return f(e)?void o(e,r):void(i||a)(!0)})},setIssueOptions:function(t,n,i,r,u,c,s,d){e.webToken.issueCertificate(t,n,i,r,u,c,function(e){return f(e)?void o(e,d):void(s||a)(e)})},updateCertificate:function(t,n,i,r,u,c,s,d,l){e.webToken.updateCertificate(t,n.cert,n.key,i,r,u,c,s,function(e){return f(e)?void o(e,l):void(d||a)(e)})},setRecoverOptions:function(t,n,i,r,u,c,s,d){e.webToken.recoverCertificate(t,n,i,r,u,c,function(e){return f(e)?void o(e,d):void(s||a)(!0)})},getPCIdentityInfo:function(t,n,i,r){e.webToken.getPCIdentityInfo(t,n,function(e){return f(e)?void o(e,r):void(i||a)(e.pcidentity)})},getMacAddress:function(t,n,i){e.webToken.getMacAddress(t,function(e){return f(e)?void o(e,i):void(n||a)(e.mac)})},verifyPin:function(t,n,i,r,u){e.webToken.verifyPin(t,n.key,i,function(e){return f(e)?void o(e,u):void(r||a)(!0)})},changePin:function(t,n,i,r,u,c,s){e.webToken.changePin(t,n.cert,n.key,i,r,u,function(e){return f(e)?void o(e,s):void(c||a)(!0)})},importP12:function(t,n,i,r,u,c){e.webToken.importCertificate(t,n,i,r,function(e){return f(e)?void o(e,c):void(u||a)(!0)})},exportP12:function(t,n,i,r,u,c,s){e.webToken.exportCertificate(t,n.cert,n.key,i,r,u,function(e){return f(e)?void o(e,s):void(c||a)(!0)})},changeStorageMedia:function(t,n,i,r,u,c,s){e.webToken.changeStorage(t,n,i.cert,i.key,r,u,function(e){return f(e)?void o(e,s):void(c||a)(!0)})},removeFromMedia:function(t,n,i,r,u){e.webToken.deleteCertificate(t,n,i.cert,i.key,function(e){return f(e)?void o(e,u):void(r||a)(!0)})},suspend:function(t,n,i,r,u,c,s){u.reason=6,e.webToken.revokeCertificate(t,n.cert,n.key,i,r,u,function(e){return f(e)?void o(e,s):void(c||a)(!0)})},revoke:function(t,n,i,r,u,c,s){u.reason=1,e.webToken.revokeCertificate(t,n.cert,n.key,i,r,u,function(e){return f(e)?void o(e,s):void(c||a)(!0)})},setMatchedContext:function(n,i,r,u,c,s,d,y,v){var g,p,m;m=n,g=ytcrypto.md.sha256.create(),g.update(m),p=g.digest(),e.webToken.setMatchedContext(t.encodeBytes(p.data,"base64"),c,l(r,"upper"),u,s,d,function(e){if(f(e))return void o(e,v);for(var t in e.list){e.list[t].showRenewal=!1;var n=moment(e.list[t].validTo,"YYYYMMDDHHmmss"),i=n.diff(moment(),"day");i>0&&30>i&&(e.list[t].showRenewal=!0),e.list[t].exipreDay=i}(y||a)(e)})},unSetMatchedContext:function(n,i,r){var u,c;u=ytcrypto.md.sha256.create(),u.update(n),c=u.digest(),e.webToken.unsetMatchedContext(t.encodeBytes(c.data,"base64"),function(e){return f(e)?void o(e,r):void(i||a)(!0)})},makeCustomSession:function(n,i,r,u,c,s){var d,l;d=ytcrypto.md.sha256.create(),d.update(n),l=d.digest(),e.webToken.makeCustomSession(t.encodeBytes(l.data,"base64"),i,r.cert,r.key,u,function(e){return f(e)?void o(e,s):void(c||a)(e)})},tray:function(t,n,i,r,u){e.webToken.operateTray(t,n,i,function(e){return f(e)?void o(e,u):void(r||a)(!0)})},getE2EInfo:function(t,n,i){e.webToken.getE2EInfo(t,function(e){if(f(e))return void o(e,i);var t={publicKey:"",sessionID:"",indexTable:""};if("undefined"!=typeof e.publicKey&&(t.publicKey=e.publicKey),"undefined"!=typeof e.sessionID&&(t.sessionID=e.sessionID),"undefined"!=typeof e.indexTable){var r=yt.util.decode64(e.indexTable);t.indexTable=r.split(",").map(String)}(n||a)(t)})},unload:function(){e.webToken.unLoad()},getHash:function(t,n,i,r,u){e.webToken.getHash(t,n,i,function(e){return f(e)?void o(e,u):void(r||a)(e.hash)})},encrypt:function(t,n,i,r,u){e.webToken.encrypt(t,n,i,function(e){return f(e)?void o(e,u):void(r||a)(e.encResult)})},decrypt:function(t,n,i,r,u){e.webToken.decrypt(t,n,i,function(t){return f(t)?void o(t,u):(t.decResult=e.util.decode64(t.decResult),void(r||a)(t.encResult))})},envelope:function(t,n,i,r,u,c,s,d){e.webToken.envelope(t,n,i.cert,r,u,c,function(e){return f(e)?void o(e,d):void(s||a)(e.envelopeResult)})},deenvelope:function(t,i,r,u,c,s,d){e.webToken.deenvelope(t,i.key,r,u,c,function(t){return f(t)?void o(t,d):void(s||a)(t.deenvelopeResult===n?e.util.decode64(t.file):e.util.decode64(t.deenvelopeResult))})},relayRaonGetRefNum:function(t,n,i,r,u){e.webToken.relayRaonGetRefNum(t,n,i,function(e){return f(e)?void o(e,u):void(r||a)(e.refNum)})},relayRaonGetCert:function(t,n,i,r,u){e.webToken.relayRaonGetCert(t,n,i,function(e){return f(e)?void o(e,u):void(r||a)(!0)})},relayRaonExportCert:function(t,n,i,r,u,c,s){var d,l;n.kmCert==n.cert?(d="undefined",l="undefined",u.supportKm=0):(d=n.kmCert,l=n.kmKey,u.supportKm=1),e.webToken.relayRaonExportCert(t,n.cert,n.key,d,l,i,r,u,function(e){return f(e)?void o(e,s):void(c||a)(e)})},verifyVID:function(t,n,i,r,u,c){e.webToken.verifyVID(t,n.cert,n.key,i,r,function(e){return f(e)?void o(e,c):void(u||a)(e)})},setConfigFile:function(t,n,i){e.webToken.setConfigFile(t,function(e){return f(e)?void o(e,i):void(n||a)(e)})}}}(yt,L,Y,R);I(x,{version:D,init:i,setPort:r,forEach:c,isUndefined:s,isDefined:f,isObject:d,isString:l,isNumber:y,isDate:v,isArray:N,isFunction:g,isRegExp:p,isWindow:m,isFile:b,isBlob:C,isBoolean:T,trim:O,toJson:w,fromJson:S,isSSL:h,browser:P,os:B,flashDecode:E,error:A,noop:a,extend:I,pki:Y,token:H})}(window,yt);